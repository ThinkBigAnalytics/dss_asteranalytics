{
  "json_schema_major_version": "1",
  "json_schema_minor_version": "2",
  "json_content_version": "1",
  "function_name": "OutlierFilter",
  "function_version": "1.6",
  "function_type": "driver",
  "function_r_name": "aa.outlierfilter",
  "short_description": "Removes outlier values from a target column.",
  "long_description": "Removes numerical outlier valuesfrom a target column, The user specifies a method to define outlying values.",
  "input_tables": [
    {
      "name": "InputTable",
      "allowsLists": false,
      "useInR": true,
      "description": "Specifies the name of the table that contains the numeric data to be filtered and (optionally) the columns by which to group the data.",
      "isRequired": true,
      "datatype": "TABLE_ALIAS",
      "rOrderNum": 1,
      "rName": "data",
      "alternateNames": [],
      "rDescription": "Specifies the name of the table that contains the numeric data to be filtered and (optionally) the columns by which to group the data.",
      "requiredInputKind": [],
      "isOrdered": false,
      "partitionByOne": false
    }
  ],
  "output_tables": [
    {
      "name": "OutputTable",
      "allowsLists": false,
      "useInR": true,
      "description": "Specifies the name of the table where the function stores the copy of the input table (including the PARTITION BY column) with the outliers either deleted (by default) or replaced (as specified by the ReplacementValue argument).",
      "isRequired": true,
      "datatype": "TABLE_NAME",
      "rOrderNum": 100,
      "rName": "output.table",
      "alternateNames": [],
      "rDescription": "Specifies the name of the table where the function stores the copy of the input table (including the PARTITION BY column) with the outliers either deleted (by default) or replaced (as specified by the replacement.value argument).",
      "isOutputTable": true
    },
    {
      "name": "OutlierTable",
      "allowsLists": false,
      "useInR": true,
      "description": "Specifies the name of the table where the function outputs copies of the rows of the input table that contain outliers.",
      "isRequired": false,
      "datatype": "TABLE_NAME",
      "rOrderNum": 101,
      "rName": "outlier.table",
      "alternateNames": [],
      "rDescription": "Specifies the name of the table where the function outputs copies of the rows of the input table that contain outliers.",
      "isOutputTable": true
    }
  ],
  "argument_clauses": [
    {
      "name": "TargetColumn",
      "allowsLists": true,
      "useInR": true,
      "rName": "target.column",
      "allowedTypes": [],
      "datatype": "COLUMN_NAMES",
      "targetTable": [
        "InputTable"
      ],
      "rOrderNum": 2,
      "checkDuplicate": true,
      "isRequired": true,
      "rDescription": "Specifies the names of the input table columns to be filtered.",
      "alternateNames": [
        "FilterCol"
      ],
      "allowedTypeGroups": [
        "ALL"
      ],
      "allowPadding": true,
      "matchLengthOfArgument": "",
      "description": "Specifies the names of the input table columns to be filtered."
    },
    {
      "name": "GroupByColumns",
      "allowsLists": true,
      "useInR": true,
      "rName": "group.by.columns",
      "allowedTypes": [],
      "datatype": "COLUMN_NAMES",
      "targetTable": [
        "InputTable"
      ],
      "rOrderNum": 3,
      "defaultValues": [
        "groupdummy8675309"
      ],
      "checkDuplicate": true,
      "isRequired": false,
      "rDescription": "Specifies the names of the input table columns by which to group the data. If the data schema format is name:value, then this list must include name.",
      "alternateNames": [
        "GroupByCols"
      ],
      "allowedTypeGroups": [
        "ALL"
      ],
      "allowPadding": true,
      "matchLengthOfArgument": "",
      "description": "Specifies the names of the input table columns by which to group the data. If the data schema format is name:value, then this list must include name."
    },
    {
      "name": "Method",
      "allowsLists": true,
      "isOutputColumn": false,
      "useInR": true,
      "datatype": "STRING",
      "defaultValue": [
        "PERCENTILE"
      ],
      "rOrderNum": 4,
      "rName": "method",
      "isRequired": false,
      "rDescription": "Specifies the method or methods of filtering outliers:  'percentile' (default), 'tukey': Tukey\u2019s method, 'carling': Carling\u2019s modification, 'MAD-median': Median absolute deviation (MAD). MAD is defined as the median of the absolute values of the residuals. For example, if there are i datapoints and the median value of the data is M, then MAD=mediani (|xi -M|). Specify either one method, which the function uses for all columns specified by target.column, or specify a method for each column specified by target.column.",
      "alternateNames": [],
      "permittedValues": [
        "PERCENTILE",
        "TUKEY",
        "CARLING",
        "MADMEDIAN",
        "MAD-MEDIAN"
      ],
      "allowPadding": true,
      "matchLengthOfArgument": "TargetColumn",
      "description": "Specifies the method or methods of filtering outliers:'percentile' (default), 'tukey': Tukey\u2019s method, 'carling': Carling\u2019s modification, 'MAD-median': Median absolute deviation (MAD). MAD is defined as the median of the absolute values of the residuals. For example, if there are i datapoints and the median value of the data is M, then MAD=mediani (|xi -M|). Specify either one method, which the function uses for all columns specified by TargetColumn, or specify a method for each column specified by TargetColumn"
    },
    {
      "name": "PercentileThreshold",
      "upperBoundType": "INCLUSIVE",
      "lowerBound": 0,
      "useInR": true,
      "rName": "percentile.threshold",
      "datatype": "DOUBLE",
      "defaultValue": [
        5,
        95
      ],
      "rOrderNum": 6,
      "allowsLists": true,
      "upperBound": 100,
      "lowerBoundType": "INCLUSIVE",
      "isRequired": false,
      "rDescription": " Specifies the range of percentile values for 'percentile' filtering, [perc_lower, 100 -perc_lower]. The default filter range is [5, 95].",
      "alternateNames": [
        "PercentileValues"
      ],
      "allowPadding": true,
      "matchLengthOfArgument": "",
      "description": " Specifies the range of percentile values for 'percentile' filtering, [perc_lower, 100 -perc_lower]. The default filter range is [5, 95]."
    },
    {
      "name": "PercentAccuracy",
      "upperBoundType": "INCLUSIVE",
      "lowerBound": -Infinity,
      "useInR": true,
      "rName": " percent.accuracy",
      "datatype": "DOUBLE",
      "defaultValue": 0.5,
      "rOrderNum": 7,
      "allowsLists": false,
      "upperBound": Infinity,
      "lowerBoundType": "INCLUSIVE",
      "isRequired": false,
      "rDescription": " Specifies the accuracy of percentiles used for filtering. The default value is 0.5%.",
      "alternateNames": [
        "PercentileTolerance"
      ],
      "allowNaN": false,
      "description": " Specifies the accuracy of percentiles used for filtering. The default value is 0.5%."
    },
    {
      "name": "IQRMultiplier",
      "upperBoundType": "INCLUSIVE",
      "lowerBound": -Infinity,
      "useInR": true,
      "rName": "iqr.multiplier",
      "datatype": "DOUBLE",
      "defaultValue": 1.5,
      "rOrderNum": 8,
      "allowsLists": false,
      "upperBound": Infinity,
      "lowerBoundType": "INCLUSIVE",
      "isRequired": false,
      "rDescription": "Specifies the multiplier of interquartile range for 'tukey' filtering. The default value is 1.5.",
      "alternateNames": [],
      "allowNaN": false,
      "description": "Specifies the multiplier of interquartile range for 'tukey' filtering. The default value is 1.5."
    },
    {
      "name": "RemoveTail",
      "allowsLists": false,
      "isOutputColumn": false,
      "useInR": true,
      "datatype": "STRING",
      "defaultValue": "BOTH",
      "rOrderNum": 9,
      "rName": " remove.tail",
      "isRequired": false,
      "rDescription": "Specifies the side of the distribution to filter. The default value is 'both'.",
      "alternateNames": [],
      "permittedValues": [
        "BOTH",
        "UPPER",
        "LOWER"
      ],
      "description": "Specifies the side of the distribution to filter. The default value is 'both'."
    },
    {
      "name": "ReplacementValue",
      "allowsLists": false,
      "isOutputColumn": false,
      "useInR": true,
      "datatype": "STRING",
      "defaultValue": "delete",
      "rOrderNum": 10,
      "rName": " replacement.value",
      "isRequired": false,
      "rDescription": "Specifies how the function handles outliers:'delete' (default): The function does not copy the row to the output table, 'null': The function copies the row to the output table, replacing each outlier with the value NULL, 'median': The function copies the row to the output table, replacing each outlier with the median value for its group, newval: The function copies the row to the output table, replacing each outlier with newval, which must be a numeric value.",
      "alternateNames": [],
      "permittedValues": [],
      "description": "Specifies how the function handles outliers:'delete' (default): The function does not copy the row to the output table, 'null': The function copies the row to the output table, replacing each outlier with the value NULL, 'median': The function copies the row to the output table, replacing each outlier with the median value for its group, newval: The function copies the row to the output table, replacing each outlier with newval, which must be a numeric value."
    },
    {
      "name": "ApproxPercentile",
      "allowsLists": false,
      "useInR": true,
      "datatype": "BOOLEAN",
      "defaultValue": false,
      "rOrderNum": 5,
      "rName": "approx.percentile",
      "isRequired": false,
      "rDescription": "Specifies whether the function calculates the percentiles used as filter limits exactly. The default value is 'false'.Approximate percentiles are typically faster, but might fail when the number of groups exceeds one million.",
      "alternateNames": [
        "UseApproxPercentile"
      ],
      "description": "Specifies whether the function calculates the percentiles used as filter limits exactly. The default value is 'false'.Approximate percentiles are typically faster, but might fail when the number of groups exceeds one million."
    },
    {
      "name": "MadScaleConstant",
      "upperBoundType": "INCLUSIVE",
      "lowerBound": -Infinity,
      "useInR": true,
      "rName": "madscale.constant",
      "datatype": "DOUBLE",
      "defaultValue": 1.4826,
      "rOrderNum": 11,
      "allowsLists": false,
      "upperBound": Infinity,
      "lowerBoundType": "INCLUSIVE",
      "isRequired": false,
      "rDescription": "Specifies the scale constant used with 'MAD-median' filtering; a DOUBLE PRECISION value. The default value is 1.4826, which means MAD = 1.4826 * median(|x - median(x)|).",
      "alternateNames": [],
      "allowNaN": false,
      "description": "Specifies the scale constant used with 'MAD-median' filtering; a DOUBLE PRECISION value. The default value is 1.4826, which means MAD = 1.4826 * median(|x - median(x)|)."
    },
    {
      "name": "MadThreshold",
      "upperBoundType": "INCLUSIVE",
      "lowerBound": -Infinity,
      "useInR": true,
      "rName": "mad.threshold",
      "datatype": "DOUBLE",
      "defaultValue": 3,
      "rOrderNum": 12,
      "allowsLists": false,
      "upperBound": Infinity,
      "lowerBoundType": "INCLUSIVE",
      "isRequired": false,
      "rDescription": " Specifies the threshold used with 'MAD-median' filtering; a DOUBLE PRECISION value. The default value is 3, which means that |x-median(x)|/MAD > 3 is flagged as an outlier.",
      "alternateNames": [],
      "allowNaN": false,
      "description": " Specifies the threshold used with 'MAD-median' filtering; a DOUBLE PRECISION value. The default value is 3, which means that |x-median(x)|/MAD > 3 is flagged as an outlier."
    }
  ]
}