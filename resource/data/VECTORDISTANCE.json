{
  "json_schema_major_version": "1",
  "json_schema_minor_version": "2",
  "json_content_version": "1",
  "function_name": "VectorDistance",
  "function_version": "1.2",
  "function_type": "non-driver",
  "function_r_name": "aa.vector.distance",
  "short_description": "This function takes the sparse vector input and output distance between target and reference vectors with defined measurent ",
  "long_description": "This function calculate the distance from target vector to each reference vector. User can specify desired measurements in MEASURE argument.",
  "input_tables": [
    {
      "isOrdered": false,
      "useInR": true,
      "name": "target",
      "rName": "target.data",
      "isRequired": true,
      "datatype": "TABLE_ALIAS",
      "rOrderNum": 1,
      "allowsLists": false,
      "partitionByOne": false,
      "rDescription": "A table that specifies target vectors",
      "requiredInputKind": [
        "PartitionByKey"
      ],
      "alternateNames": [],
      "description": "A table that specifies target vectors"
    },
    {
      "isOrdered": false,
      "useInR": true,
      "name": "ref",
      "rName": "ref.data",
      "isRequired": true,
      "datatype": "TABLE_ALIAS",
      "rOrderNum": 2,
      "allowsLists": false,
      "partitionByOne": false,
      "rDescription": "A table that specifies reference vectors",
      "requiredInputKind": [
        "Dimension"
      ],
      "alternateNames": [],
      "description": "A table that specifies reference vectors"
    }
  ],
  "argument_clauses": [
    {
      "name": "TargetIdColumns",
      "allowsLists": true,
      "useInR": true,
      "rName": "target.id",
      "allowedTypes": [],
      "datatype": "COLUMNS",
      "targetTable": [
        "target"
      ],
      "rOrderNum": 3,
      "checkDuplicate": true,
      "isRequired": true,
      "rDescription": "Specifies the names of the columns that comprise the target vector identifier. You must partition the target input table by these columns and specify them with this argument.",
      "alternateNames": [],
      "allowedTypeGroups": [
        "ALL"
      ],
      "allowPadding": true,
      "matchLengthOfArgument": "",
      "description": "Specifies the names of the columns that comprise the target vector identifier. You must partition the target input table by these columns and specify them with this argument."
    },
    {
      "name": "TargetFeatureColumn",
      "allowsLists": false,
      "useInR": true,
      "rName": "target.feature",
      "allowedTypes": [],
      "datatype": "COLUMNS",
      "targetTable": [
        "target"
      ],
      "rOrderNum": 4,
      "checkDuplicate": false,
      "isRequired": true,
      "rDescription": "Specifies the name of the column that contains the target vector feature name (for example, the axis of a 3-D vector). Note: An entry with a NULL value in a feature_column is dropped.",
      "requiredLength": 1,
      "alternateNames": [],
      "allowedTypeGroups": [
        "ALL"
      ],
      "allowPadding": true,
      "matchLengthOfArgument": "",
      "description": "Specifies the name of the column that contains the target vector feature name (for example, the axis of a 3-D vector). Note: An entry with a NULL value in a feature_column is dropped."
    },
    {
      "name": "TargetValueColumn",
      "allowsLists": false,
      "useInR": true,
      "rName": "target.value",
      "allowedTypes": [],
      "datatype": "COLUMNS",
      "targetTable": [
        "target"
      ],
      "rOrderNum": 5,
      "checkDuplicate": false,
      "isRequired": false,
      "rDescription": "Specifies the name of the column that contains the value for the target vector feature. The default value is 1. Note: An entry with a NULL value in a value_column is dropped.",
      "requiredLength": 1,
      "alternateNames": [],
      "allowedTypeGroups": [
        "NUMERIC"
      ],
      "allowPadding": true,
      "matchLengthOfArgument": "",
      "description": "Specifies the name of the column that contains the value for the target vector feature. The default value is 1. Note: An entry with a NULL value in a value_column is dropped."
    },
    {
      "name": "RefIdColumns",
      "allowsLists": true,
      "useInR": true,
      "rName": "ref.id",
      "allowedTypes": [],
      "datatype": "COLUMNS",
      "targetTable": [
        "ref"
      ],
      "rOrderNum": 6,
      "defaultValues": [],
      "checkDuplicate": true,
      "isRequired": false,
      "rDescription": "Specifies the names of the columns that comprise the reference vector identifier. The default value is the target.id argument value. ",
      "alternateNames": [],
      "allowedTypeGroups": [
        "ALL"
      ],
      "allowPadding": true,
      "matchLengthOfArgument": "",
      "description": "Specifies the names of the columns that comprise the reference vector identifier. The default value is the TargetIDColumns argument value. "
    },
    {
      "name": "RefFeatureColumn",
      "allowsLists": false,
      "useInR": true,
      "rName": "ref.feature",
      "allowedTypes": [],
      "datatype": "COLUMNS",
      "targetTable": [
        "ref"
      ],
      "rOrderNum": 7,
      "checkDuplicate": false,
      "isRequired": false,
      "rDescription": "Specifies the name of the column that contains the reference vector feature name. The default value is the target.feature argument value.",
      "requiredLength": 1,
      "alternateNames": [],
      "allowedTypeGroups": [
        "ALL"
      ],
      "allowPadding": true,
      "matchLengthOfArgument": "",
      "description": "Specifies the name of the column that contains the reference vector feature name. The default value is the target.feature argument value."
    },
    {
      "name": "RefValueColumn",
      "allowsLists": false,
      "useInR": true,
      "rName": "ref.value",
      "allowedTypes": [],
      "datatype": "COLUMNS",
      "targetTable": [
        "ref"
      ],
      "rOrderNum": 8,
      "checkDuplicate": false,
      "isRequired": false,
      "rDescription": "Specifies the name of the column that contains the value for the reference vector feature. The default value is the TargetValueColumn argument value. Note: An entry with a NULL value in a value_column is dropped.",
      "requiredLength": 1,
      "alternateNames": [],
      "allowedTypeGroups": [
        "NUMERIC"
      ],
      "allowPadding": true,
      "matchLengthOfArgument": "",
      "description": "Specifies the name of the column that contains the value for the reference vector feature. The default value is the TargetValueColumn argument value. Note: An entry with a NULL value in a value_column is dropped."
    },
    {
      "name": "ReplaceInvalid",
      "allowsLists": false,
      "isOutputColumn": false,
      "useInR": true,
      "datatype": "STRING",
      "defaultValue": "positiveinfinity",
      "rOrderNum": 12,
      "rName": "replace.invalid",
      "isRequired": false,
      "rDescription": "Specifies the value to return when the function encounters an infinite value or empty vectors. For custom, you can supply any DOUBLE PRECISION value. The default value is 'PositiveInfinity'.",
      "alternateNames": [
        "InvalidReturnValue"
      ],
      "permittedValues": [],
      "description": "Specifies the value to return when the function encounters an infinite value or empty vectors. For custom, you can supply any DOUBLE PRECISION value. The default value is 'PositiveInfinity'."
    },
    {
      "name": "RefTableSize",
      "allowsLists": false,
      "isOutputColumn": false,
      "useInR": true,
      "datatype": "STRING",
      "defaultValue": "small",
      "rOrderNum": 9,
      "rName": "reftable.size",
      "isRequired": false,
      "rDescription": "Specifies the size of the reference table. Specify 'LARGE' only if the reference table does not fit in memory. The default value, 'SMALL', allows faster processing.",
      "alternateNames": [],
      "permittedValues": [
        "small",
        "large"
      ],
      "description": "Specifies the size of the reference table. Specify 'LARGE' only if the reference table does not fit in memory. The default value, 'SMALL', allows faster processing."
    },
    {
      "name": "DistanceMeasure",
      "allowsLists": true,
      "isOutputColumn": false,
      "useInR": true,
      "datatype": "STRING",
      "defaultValue": [
        "cosine"
      ],
      "rOrderNum": 10,
      "rName": "distance.measure",
      "isRequired": false,
      "rDescription": "Specifies the distance measures that the function uses.The default value is 'cosine'.",
      "alternateNames": [
        "Measure"
      ],
      "permittedValues": [
        "COSINE",
        "EUCLIDEAN",
        "MANHATTAN",
        "BINARY"
      ],
      "allowPadding": true,
      "matchLengthOfArgument": "",
      "description": "Specifies the distance measures that the function uses.The default value is 'cosine'."
    },
    {
      "name": "MaxDistance",
      "allowsLists": true,
      "useInR": true,
      "datatype": "DOUBLE",
      "rOrderNum": 14,
      "rName": "max.distance",
      "isRequired": false,
      "rDescription": "Specifies the maximum distance between a pair of target and reference vectors. If the distance exceeds the threshold, the pair does not appear in the output table. If the distance.measure argument specifies multiple measures, then the max.distance argument must specify a threshold for each measure. The ith threshold corresponds to the ith measure. Each threshold can be any DOUBLE PRECISION value. If you omit this argument, then the function returns all results.",
      "alternateNames": [
        "Threshold"
      ],
      "allowPadding": true,
      "matchLengthOfArgument": "",
      "description": "Specifies the maximum distance between a pair of target and reference vectors. If the distance exceeds the threshold, the pair does not appear in the output table. If the DistanceMeasure argument specifies multiple measures, then the MaxDistance argument must specify a threshold for each measure. The ith threshold corresponds to the ith measure. Each threshold can be any DOUBLE PRECISION value. If you omit this argument, then the function returns all results."
    },
    {
      "name": "IgnoreMismatch",
      "allowsLists": false,
      "useInR": true,
      "datatype": "BOOLEAN",
      "defaultValue": true,
      "rOrderNum": 11,
      "rName": "ignore.mismatch",
      "isRequired": false,
      "rDescription": "Specifies whether to drop mismatched dimensions. The default value is 'true'. If distance.measure is 'cosine', then this argument is 'false'. If you specify 'true', then two vectors with no common features become two empty vectors when only their common features are considered, and the function cannot measure the distance between them.",
      "alternateNames": [],
      "description": "Specifies whether to drop mismatched dimensions. The default value is 'true'. If DistanceMeasure is 'cosine', then this argument is 'false'. If you specify 'true', then two vectors with no common features become two empty vectors when only their common features are considered, and the function cannot measure the distance between them."
    },
    {
      "name": "TopK",
      "upperBoundType": "INCLUSIVE",
      "lowerBound": 1,
      "useInR": true,
      "rName": "top.k",
      "datatype": "INTEGER",
      "defaultValue": 2147483647,
      "rOrderNum": 13,
      "allowsLists": false,
      "upperBound": 2147483647,
      "lowerBoundType": "INCLUSIVE",
      "isRequired": false,
      "rDescription": "Specifies, for each target vector and for each measure, the maximum number of closest reference vectors to include in the output table. For k, you can supply any INTEGER value. The default value is the maximum INTEGER value (2,147,483,647).",
      "alternateNames": [],
      "allowNaN": false,
      "description": "Specifies, for each target vector and for each measure, the maximum number of closest reference vectors to include in the output table. For k, you can supply any INTEGER value. The default value is the maximum INTEGER value (2,147,483,647)."
    }
  ]
}