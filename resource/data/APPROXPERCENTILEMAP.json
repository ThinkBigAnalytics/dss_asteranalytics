{
  "json_schema_major_version": "1",
  "json_schema_minor_version": "2",
  "json_content_version": "1",
  "function_name": "ApproxPercentileMap",
  "function_version": "1.2",
  "function_type": "non-driver",
  "function_r_name": "aa.approx.percentile.R",
  "short_description": "Outputs a summary of approximate percentiles on values of a column and grouped by one or more columns.",
  "long_description": "Outputs a summary of approximate percentiles on values given by a column and grouped by one or more columns. The rank of each output value is guaranteed to be within <N * relative_error / 100> of the rank of the corresponding percentile, where <N> is the number of summarized values.",
  "function_operation": "map",
  "partner_function": "ApproxPercentileReduce",
  "input_tables": [
    {
      "isOrdered": false,
      "useInR": true,
      "name": "InputTable",
      "rName": "input.table",
      "isRequired": true,
      "datatype": "TABLE_ALIAS",
      "rOrderNum": 0,
      "allowsLists": false,
      "partitionByOne": false,
      "rDescription": "Specifies the table containing the input data.",
      "requiredInputKind": [
        "PartitionByAny"
      ],
      "alternateNames": [],
      "description": "Specifies the table containing the input data."
    }
  ],
  "argument_clauses": [
    {
      "name": "TargetColumns",
      "allowsLists": true,
      "useInR": true,
      "rName": "target.columns",
      "allowedTypes": [],
      "datatype": "COLUMNS",
      "targetTable": [
        "InputTable"
      ],
      "rOrderNum": 0,
      "checkDuplicate": true,
      "isRequired": true,
      "rDescription": "Specifies the names of the input columns for which to compute approximate percentiles. If you specify only one target_column in the ApproxPercentileMap function, then you can omit this argument in the ApproxPercentileReduce function. If you specify more than one target_column in the ApproxPercentileMap function, then you must specify this argument in the ApproxPercentileReduce function. In ApproxPercentileReduce, this argument must specify at least one target_column that it specifies in ApproxPercentileMap. Only the target columns specified in ApproxPercentileReduce appear in the output table.",
      "alternateNames": [
        "TargetColumn"
      ],
      "allowedTypeGroups": [
        "ALL"
      ],
      "allowPadding": true,
      "matchLengthOfArgument": "",
      "description": "Specifies the names of the input columns for which to compute approximate percentiles. If you specify only one target_column in the ApproxPercentileMap function, then you can omit this argument in the ApproxPercentileReduce function. If you specify more than one target_column in the ApproxPercentileMap function, then you must specify this argument in the ApproxPercentileReduce function. In ApproxPercentileReduce, this argument must specify at least one target_column that it specifies in ApproxPercentileMap. Only the target columns specified in ApproxPercentileReduce appear in the output table."
    },
    {
      "name": "GroupColumns",
      "allowsLists": true,
      "useInR": true,
      "rName": "group.columns",
      "allowedTypes": [],
      "datatype": "COLUMNS",
      "targetTable": [
        "InputTable"
      ],
      "rOrderNum": 0,
      "checkDuplicate": true,
      "isRequired": false,
      "rDescription": "Specifies the names of the input columns by which to group the data. If you specify this argument, the function computes the approximate percentile for each group in each column. If you omit this argument, the function computes the approximate percentile for the entire column. For example, suppose that the target columns are State, Town, and Population. If you specify GroupColumns('State'), the function computes the approximate percentile for the population of each state. If you omit this argument, the function computes the approximate percentile for the population across all towns. To specify this argument, you must do so in both the ApproxPercentileMap and the ApproxPercentileReduce functions, and specify each group_column in the PARTITION BY clause. If you omit this argument, specify PARTITION BY 1. ",
      "alternateNames": [],
      "allowedTypeGroups": [
        "ALL"
      ],
      "allowPadding": true,
      "matchLengthOfArgument": "",
      "description": "Specifies the names of the input columns by which to group the data. If you specify this argument, the function computes the approximate percentile for each group in each column. If you omit this argument, the function computes the approximate percentile for the entire column. For example, suppose that the target columns are State, Town, and Population. If you specify GroupColumns('State'), the function computes the approximate percentile for the population of each state. If you omit this argument, the function computes the approximate percentile for the population across all towns. To specify this argument, you must do so in both the ApproxPercentileMap and the ApproxPercentileReduce functions, and specify each group_column in the PARTITION BY clause. If you omit this argument, specify PARTITION BY 1. "
    },
    {
      "name": "ErrorRate",
      "upperBoundType": "INCLUSIVE",
      "lowerBound": 0.01,
      "useInR": true,
      "rName": "error.rate",
      "datatype": "DOUBLE",
      "defaultValue": 1,
      "rOrderNum": 0,
      "allowsLists": false,
      "upperBound": 50,
      "lowerBoundType": "INCLUSIVE",
      "isRequired": false,
      "rDescription": "Specifies the approximate percentiles to compute. Each percentile is an INTEGER. By default, the function computes the percentiles 0, 25, 50, 75, and 100.",
      "alternateNames": [
        "Error"
      ],
      "allowNaN": false,
      "description": "Specifies the approximate percentiles to compute. Each percentile is an INTEGER. By default, the function computes the percentiles 0, 25, 50, 75, and 100."
    }
  ]
}