{
  "json_schema_major_version": "1",
  "json_schema_minor_version": "2",
  "json_content_version": "1",
  "function_name": "TextClassifierTrainer",
  "function_version": "1.5",
  "function_type": "driver",
  "function_r_name": "aa.text.classifier.train",
  "short_description": "SQL/MR function for training a text classifier",
  "long_description": "SQL/MR function for training a text classification model. Current implementation supports maximum entropy model and KNN model",
  "input_tables": [
    {
      "name": "InputTable",
      "allowsLists": false,
      "useInR": true,
      "description": "Specifies the name of the table that contains the documents to use to train the model.",
      "isRequired": true,
      "datatype": "TABLE_ALIAS",
      "rOrderNum": 1,
      "rName": "data",
      "alternateNames": [],
      "rDescription": "Specifies the name of the table that contains the documents to use to train the model.",
      "requiredInputKind": [],
      "isOrdered": false,
      "partitionByOne": false
    }
  ],
  "argument_clauses": [
    {
      "name": "TextColumn",
      "allowsLists": false,
      "useInR": true,
      "rName": "text.column",
      "allowedTypes": [],
      "datatype": "COLUMN_NAMES",
      "targetTable": [
        "InputTable"
      ],
      "rOrderNum": 2,
      "checkDuplicate": true,
      "isRequired": true,
      "rDescription": "Specifies the name of the column that contains the text of the training documents.",
      "requiredLength": 1,
      "alternateNames": [],
      "allowedTypeGroups": [
        "ALL"
      ],
      "allowPadding": true,
      "matchLengthOfArgument": "",
      "description": "Specifies the name of the column that contains the text of the training documents."
    },
    {
      "name": "CategoryColumn",
      "allowsLists": false,
      "useInR": true,
      "rName": "category.column",
      "allowedTypes": [],
      "datatype": "COLUMN_NAMES",
      "targetTable": [
        "InputTable"
      ],
      "rOrderNum": 3,
      "checkDuplicate": true,
      "isRequired": true,
      "rDescription": "Specifies the name of the column that contains the category of the training documents.",
      "requiredLength": 1,
      "alternateNames": [],
      "allowedTypeGroups": [
        "ALL"
      ],
      "allowPadding": true,
      "matchLengthOfArgument": "",
      "description": "Specifies the name of the column that contains the category of the training documents."
    },
    {
      "name": "ClassifierType",
      "allowsLists": false,
      "isOutputColumn": false,
      "useInR": true,
      "datatype": "STRING",
      "defaultValue": "maxEnt",
      "rOrderNum": 4,
      "rName": "classifier.type",
      "isRequired": true,
      "rDescription": "Specifies the classifier type of the model, KNN algorithm or maximum entropy model.",
      "alternateNames": [],
      "permittedValues": [
        "maxEnt",
        "knn"
      ],
      "description": "Specifies the classifier type of the model, KNN algorithm or maximum entropy model."
    },
    {
      "name": "ModelFile",
      "allowsLists": false,
      "isOutputColumn": false,
      "useInR": true,
      "datatype": "STRING",
      "rOrderNum": 8,
      "rName": "model.file",
      "isRequired": true,
      "rDescription": "The name of the model file to be generated.",
      "alternateNames": [],
      "permittedValues": [],
      "description": "The name of the model file to be generated."
    },
    {
      "name": "ClassifierParameters",
      "allowsLists": true,
      "isOutputColumn": false,
      "useInR": true,
      "datatype": "STRING",
      "rOrderNum": 5,
      "rName": "classifier.parameters",
      "isRequired": false,
      "rDescription": "Applies only if the classifier type of the model is KNN. Specifies parameters for the classifier. The name must be 'compress' and value must be in the range (0, 1). The n training documents are clustered into value*n groups (for example, if there are 100 training documents, then ClassifierParameters('compress:0.6') clusters them into 60 groups), and the model uses the center of each group as the feature vector.",
      "alternateNames": [],
      "permittedValues": [],
      "allowPadding": true,
      "matchLengthOfArgument": "",
      "description": "Applies only if the classifier type of the model is KNN. Specifies parameters for the classifier. The name must be 'compress' and value must be in the range (0, 1). The n training documents are clustered into value*n groups (for example, if there are 100 training documents, then ClassifierParameters('compress:0.6') clusters them into 60 groups), and the model uses the center of each group as the feature vector."
    },
    {
      "name": "NlpParameters",
      "allowsLists": true,
      "isOutputColumn": false,
      "useInR": true,
      "datatype": "STRING",
      "rOrderNum": 6,
      "rName": "nlp.parameters",
      "isRequired": false,
      "rDescription": "Specifies natural language processing (NLP) parameters for preprocessing the text data and produce tokens. Each name:value pair must be one of the following:  tokenDictFile: token_file where token_file is the name of an Aster Database file in which each line contains a phrase, followed by a space, followed by the token for the phrase (and nothing else).  stopwordsFile:stopword_file where stopword_file is the name of an Aster Database file in which each line contains exactly one stop word (a word to ignore during tokenization, such as a, an, or the).  useStem:{true|false} which specifies whether the function stems the tokens. The default value is 'false'.  stemIgnoreFile:stem_ignore_file where stem_ignore_file is the name of an Aster Database file in which each line contains exactly one word to ignore during stemming. Specifying this parameter with 'useStem:false' causes an exception.  useBgram:{ true | false } which specifies whether the function uses Bigram, which considers the proximity of adjacent tokens when analyzing them. The default value is 'false'.  language:{ en | zh_CN | zh_TW } which specifies the language of the input text\u2014English (en), Simplified Chinese (zh_CN), or Traditional Chinese (zh_TW). The default value is en. For the values zh_CN and zh_TW, the function ignores the parameters useStem and stemIgnoreFile. Example: nlp.parameters ('tokenDictFile:token_dict.txt', 'stopwordsFile:fileName', 'useStem:true', 'stemIgnoreFile:fileName', 'useBgram:true', 'language:zh_CN')",
      "alternateNames": [],
      "permittedValues": [],
      "allowPadding": true,
      "matchLengthOfArgument": "",
      "description": "Specifies natural language processing (NLP) parameters for preprocessing the text data and produce tokens. Each name:value pair must be one of the following:  tokenDictFile: token_file where token_file is the name of an Aster Database file in which each line contains a phrase, followed by a space, followed by the token for the phrase (and nothing else).  stopwordsFile:stopword_file where stopword_file is the name of an Aster Database file in which each line contains exactly one stop word (a word to ignore during tokenization, such as a, an, or the).  useStem:{true|false} which specifies whether the function stems the tokens. The default value is 'false'.  stemIgnoreFile:stem_ignore_file where stem_ignore_file is the name of an Aster Database file in which each line contains exactly one word to ignore during stemming. Specifying this parameter with 'useStem:false' causes an exception.  useBgram:{ true | false } which specifies whether the function uses Bigram, which considers the proximity of adjacent tokens when analyzing them. The default value is 'false'.  language:{ en | zh_CN | zh_TW } which specifies the language of the input text\u2014English (en), Simplified Chinese (zh_CN), or Traditional Chinese (zh_TW). The default value is en. For the values zh_CN and zh_TW, the function ignores the parameters useStem and stemIgnoreFile. Example: NLPParameters ('tokenDictFile:token_dict.txt', 'stopwordsFile:fileName', 'useStem:true', 'stemIgnoreFile:fileName', 'useBgram:true', 'language:zh_CN')"
    },
    {
      "name": "FeatureSelectionMethod",
      "allowsLists": false,
      "isOutputColumn": false,
      "useInR": true,
      "datatype": "STRING",
      "rOrderNum": 7,
      "rName": "feature.selection",
      "isRequired": false,
      "rDescription": "Specifies the feature selection method, DF (document frequency). The values min and max must be in the range (0, 1). The function selects only the tokens that appear in at least min*n documents and at most max*n documents, where n is the number of training documents. For example, FeatureSelection ('DF:[0.1:0.9]') causes the function to select only the tokens that appear in at least 10% but no more than 90% of the training documents. If min exceeds max, the function uses min as max and max as min.",
      "alternateNames": [
        "FeatureSelection"
      ],
      "permittedValues": [],
      "description": "Specifies the feature selection method, DF (document frequency). The values min and max must be in the range (0, 1). The function selects only the tokens that appear in at least min*n documents and at most max*n documents, where n is the number of training documents. For example, FeatureSelection ('DF:[0.1:0.9]') causes the function to select only the tokens that appear in at least 10% but no more than 90% of the training documents. If min exceeds max, the function uses min as max and max as min."
    }
  ]
}